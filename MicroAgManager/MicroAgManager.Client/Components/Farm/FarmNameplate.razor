@using Domain.Constants
@using Domain.Models
@using MicroAgManager.Client.Components.Weather

<section class="FarmNameplate">
    <section class="name">
        <h3 >@Farm.Name</h3>
    </section>
    @if (ShowAll || ShowWeather)
    {
        <WeatherPlate Latitude="@Farm.Latitude" Longitude="@Farm.Longitude"></WeatherPlate>
    }
    @if (ShowAll || ShowLocation)
    {
        <section class="location">
            @if (ShowAll)
            {
                <h4>Location</h4>
            }
            <label>Latitude</label>
            <span>@Farm.Latitude</span>
            <label class="latitude">Longitude</label>
            <span>@Farm.Longitude</span>
        </section>
    }
    @if (ShowAll || ShowAddress)
    {
        <section class="address">
            @if (ShowAll)
            {
                <h4>Address</h4>
            }
            @if (ShowStreet)
            {
                <section>@Farm.StreetAddress</section>
            }
            @if (ShowCity)
            {
                <section>@Farm.City@((ShowState || ShowZip || ShowCountry) ? "," : string.Empty)</section>
            }
            @if (ShowState)
            {
                <section>@Farm.State</section>
            }
            @if (ShowZip)
            {
                <section>@Farm.Zip</section>
            }

            @if (ShowCountry && !string.IsNullOrEmpty(Farm.Country))
            {
                <section>@Farm.Country</section>
            }
            @if (ShowCountry && !string.IsNullOrEmpty(Farm.CountryCode))
            {
                <section>@Farm.CountryCode</section>
            }
        </section>
    }
    @if (ShowAll || ShowPlotUse)
    {
        <section class="plots">
            @if (ShowAll)
            {
                <h4 class="fullWidth">Plot Summary</h4>
            }
            <label class="plotGeneralUse">@LandPlotUseConstants.GeneralUse</label>
            <span>@Farm.Plots.Where(p => p.Usage == nameof(LandPlotUseConstants.GeneralUse)).Count()</span>
            <label class="plotCrop">@LandPlotUseConstants.Crop </label>
            <span> @Farm.Plots.Where(p => p.Usage == nameof(LandPlotUseConstants.Crop)).Count()</span>
            <label class="plotGarden">@LandPlotUseConstants.Garden</label>
            <span>@Farm.Plots.Where(p => p.Usage == nameof(LandPlotUseConstants.Garden)).Count()</span>
            <label class="plotLivestock">@LandPlotUseConstants.Livestock </label>
            <span>@Farm.Plots.Where(p => p.Usage == nameof(LandPlotUseConstants.Livestock)).Count()</span>
            <label class="plotNutrientRecycling">@LandPlotUseConstants.NutrientRecycling  </label>
            <span>@Farm.Plots.Where(p => p.Usage == nameof(LandPlotUseConstants.NutrientRecycling)).Count()</span>
            <label class="plotOutbuilding">@LandPlotUseConstants.Outbuilding</label>
            <span>@Farm.Plots.Where(p => p.Usage == nameof(LandPlotUseConstants.Outbuilding)).Count()</span>
            <label class="plotPasture">@LandPlotUseConstants.Pasture </label>
            <span>@Farm.Plots.Where(p => p.Usage == nameof(LandPlotUseConstants.Pasture)).Count()</span>
        </section>
    }
    

</section>
@code {
    [CascadingParameter] FarmLocationModel Farm { get; set; }
    [Parameter] public bool ShowAll { get; set; } = false;
    [Parameter] public bool ShowAddress { get; set; } = false ;
    [Parameter] public bool ShowStreet { get; set; } = true;
    [Parameter] public bool ShowCity { get; set; } = true;
    [Parameter] public bool ShowState { get; set; } = true;
    [Parameter] public bool ShowZip { get; set; } = true;
    [Parameter] public bool ShowCountry { get; set; } = true;
    [Parameter] public bool ShowPlotUse { get; set; } = false;
    [Parameter] public bool ShowLocation { get; set; } = false;
    [Parameter] public bool ShowWeather { get; set; } = false;

}
