@inherits DataComponent<ScheduledDutyModel>
@using Domain.Models
@if (app != null)
{
    <CascadingValue Value="_editScheduledDuty">
        <ScheduledDutyEditor Show=@(_editScheduledDuty is not null) @ref="_scheduledDutyEditor" Modal="true" Submitted="@ScheduledDutyUpdated" Cancelled="@EditCancelled" showUpdateCancelButtons="true"></ScheduledDutyEditor>
    </CascadingValue>
    <TableTemplate @ref="_listComponent" PageSize="0" TItem="ScheduledDutyModel"
                   Items="@Items"
                   MultiSelect="@Multiselect"
                   Selectable="@Selectable"
                   OnSelectionChange="@TableItemSelected"
                   RowDetailsShowing="@app.RowDetailsShowing["ScheduledDutyList"]"
                   >
        <ColumnContent>
            <Column TableItem="ScheduledDutyModel" Field="@(x => x.Id)" Title="ControlColumn">
                <Template Context="e">
                    <CascadingValue Value="e">
                        <ScheduledDutyCommand Cancelled="EditCancelled" Submitted="ScheduledDutyUpdated"></ScheduledDutyCommand>
                    </CascadingValue>
                </Template>
            </Column>
            <Column TableItem="ScheduledDutyModel" Field="@(x => x.DutyId)" Title="Duty" Sortable="true" Filterable="true" UseInSuperSearch="true" ></Column>
            <Column TableItem="ScheduledDutyModel" Field="@(x => x.DueOn)" Title="Due On" Format="MM/dd/yyyy" Sortable="true" Filterable="true" UseInSuperSearch="true" />
            <Column TableItem="ScheduledDutyModel" Field="@(x => x.Recipient)" Title="Recipient" Sortable="true" Filterable="true" UseInSuperSearch="true" />
            <Column TableItem="ScheduledDutyModel" Field="@(x => x.Record)" Title="Record" Sortable="true" Filterable="true" UseInSuperSearch="true" />
            <Column TableItem="ScheduledDutyModel" Field="@(x => x.Dismissed)" Title="Dismissed" Sortable="true" Filterable="true" UseInSuperSearch="true" />
            <Column TableItem="ScheduledDutyModel" Field="@(x => x.CompletedOn)" Title="Completed On" Format="MM/dd/yyyy" Sortable="true" Filterable="true" UseInSuperSearch="true" />
        </ColumnContent>
    </TableTemplate>
}
