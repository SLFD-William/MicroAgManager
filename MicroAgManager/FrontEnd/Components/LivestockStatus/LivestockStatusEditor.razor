@using Domain.Models;
@inherits DataComponent<LivestockStatusModel>
@if (editContext is not null)
{
    <ValidatedForm editContext="editContext" 
        FreshenData="FreshenData"
        OnValidSubmit="OnSubmit" 
        Cancel="Cancel"
        showUpdateCancelButtons="true"
        createOnly="@(((LivestockStatusModel)working).Id<1)"
        Modal="Modal"
        Show="Show"
        @ref=_validatedForm>
        <DataContent>
                @if (((LivestockStatusModel)working).LivestockAnimalId <= 0)
                {
                    <ValidatedField Legend="Livestock Type" ValidationMessageFor="@(() => ((LivestockStatusModel)working).LivestockAnimalId)">
                        <InputSelect @bind-Value="@(((LivestockStatusModel)working).LivestockAnimalId)">
                            <option value="0">Select Livestock Type ...</option>
                            @foreach (var state in app.dbContext.LivestockAnimals.OrderBy(a => a.Name))
                            {
                                <option value="@state.Id">@state.Name</option>
                            }
                        </InputSelect>
                    </ValidatedField>
                }
                <ValidatedField Legend="Status" ValidationMessageFor="@(() => ((LivestockStatusModel)working).Status)">
                    <InputText placeholder="Status" @bind-Value="@(((LivestockStatusModel)working).Status)" />
                </ValidatedField>
                <ValidatedField Legend="Default Status" ValidationMessageFor="@(() => ((LivestockStatusModel)working).DefaultStatus)">
                    <InputCheckbox @bind-Value="@(((LivestockStatusModel)working).DefaultStatus)" />
                </ValidatedField>
                <ValidatedField Legend="Being Managed" ValidationMessageFor="@(() => ((LivestockStatusModel)working).BeingManaged)">
                    <InputSelect @bind-Value="@(((LivestockStatusModel)working).BeingManaged)">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="Sterile" ValidationMessageFor="@(() => ((LivestockStatusModel)working).Sterile)">
                    <InputSelect @bind-Value="@(((LivestockStatusModel)working).Sterile)">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="In Milk" ValidationMessageFor="@(() => ((LivestockStatusModel)working).InMilk)">
                    <InputSelect @bind-Value="@(((LivestockStatusModel)working).InMilk)">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="Bottle Fed" ValidationMessageFor="@(() => ((LivestockStatusModel)working).BottleFed)">
                    <InputSelect @bind-Value="@(((LivestockStatusModel)working).BottleFed)">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="For Sale" ValidationMessageFor="@(() => ((LivestockStatusModel)working).ForSale)">
                    <InputSelect @bind-Value="@(((LivestockStatusModel)working).ForSale)">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>

            
        </DataContent>
</ValidatedForm>
}