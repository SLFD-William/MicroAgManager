@using Domain.Models;
@inherits DataComponent
@if (editContext is not null)
{
    <ValidatedForm editContext="editContext" 
        FreshenData="FreshenData"
        OnValidSubmit="OnSubmit" 
        Cancel="Cancel"
        showUpdateCancelButtons="true"
                   createOnly="@(livestockStatus.Id<1)"
                   Modal="Modal"
Show="Show"
    @ref=_validatedForm>
        <DataContent>
                @if (livestockStatus.LivestockAnimalId <= 0)
                {
                    <ValidatedField Legend="Livestock Type" ValidationMessageFor="@(() => livestockStatus.LivestockAnimalId)">
                        <InputSelect @bind-Value="@livestockStatus.LivestockAnimalId">
                            <option value="0">Select Livestock Type ...</option>
                            @foreach (var state in app.dbContext.LivestockAnimals.OrderBy(a => a.Name))
                            {
                                <option value="@state.Id">@state.Name</option>
                            }
                        </InputSelect>
                    </ValidatedField>
                }
                <ValidatedField Legend="Status" ValidationMessageFor="@(() => livestockStatus.Status)">
                    <InputText placeholder="Status" @bind-Value="@livestockStatus.Status" />
                </ValidatedField>
                <ValidatedField Legend="Default Status" ValidationMessageFor="@(() => livestockStatus.DefaultStatus)">
                    <InputCheckbox @bind-Value="@livestockStatus.DefaultStatus" />
                </ValidatedField>
                <ValidatedField Legend="Being Managed" ValidationMessageFor="@(() => livestockStatus.BeingManaged)">
                    <InputSelect @bind-Value="@livestockStatus.BeingManaged">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="Sterile" ValidationMessageFor="@(() => livestockStatus.Sterile)">
                    <InputSelect @bind-Value="@livestockStatus.Sterile">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="In Milk" ValidationMessageFor="@(() => livestockStatus.InMilk)">
                    <InputSelect @bind-Value="@livestockStatus.InMilk">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="Bottle Fed" ValidationMessageFor="@(() => livestockStatus.BottleFed)">
                    <InputSelect @bind-Value="@livestockStatus.BottleFed">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>
                <ValidatedField Legend="For Sale" ValidationMessageFor="@(() => livestockStatus.ForSale)">
                    <InputSelect @bind-Value="@livestockStatus.ForSale">
                        @foreach (var state in StatusModes)
                        {
                            <option value="@state">@(string.IsNullOrEmpty(state) ? "Select Status state ..." : state)</option>
                        }
                    </InputSelect>
                </ValidatedField>

            
        </DataContent>
</ValidatedForm>
}