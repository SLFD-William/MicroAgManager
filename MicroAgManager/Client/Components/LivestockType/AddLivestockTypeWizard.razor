@using FrontEnd.Components.LivestockBreed
@using FrontEnd.Components.LivestockFeed
@using FrontEnd.Components.LivestockStatus
@if (app is not null && livestockType is not null)
{
    <Wizard Id="@this.GetType().Name" @ref=@wizard CanStepRetreat=@CanStepRetreat CanStepAdvance=@CanStepAdvance IsNestedWizard="@IsNestedWizard" ShowAdvancementButtons="@ShowButtons">
        <WizardStep Name="@Step1" >
            <LivestockTypeEditor @ref="livestockTypeEditor" livestockTypeId="@livestockType.Id" Submitted="@LivestockTypeUpdated"></LivestockTypeEditor>
        </WizardStep>
        <WizardStep Name="@Step2" IsRepeating="true">
            <CascadingValue Value="livestockType">
                @if (app.dbContext.LivestockBreeds.Any(b=>b.LivestockTypeId==livestockType.Id))
                {
                    <LivestockBreedList @ref="livestockBreedList" Items="app.dbContext.LivestockBreeds.Where(b=>b.LivestockTypeId==livestockType.Id)"></LivestockBreedList>
                }
                <LivestockBreedEditor @ref="livestockBreedEditor" Submitted="@LivestockBreedUpdated" createOnly="true"></LivestockBreedEditor>
            </CascadingValue>
        </WizardStep>
        <WizardStep Name="@Step3" IsRepeating="true">
            <CascadingValue Value="livestockType">
                @if (livestockType.Statuses.Any())
                {
                    <LivestockStatusList></LivestockStatusList>
                }
                <LivestockStatusEditor @ref="livestockStatusEditor" Submitted="@LivestockStatusUpdated"></LivestockStatusEditor>
            </CascadingValue>
        </WizardStep>
        <WizardStep Name="@Step4">
            <AddLivestockFeedWizard Completed="@LivestockFeedWizardCompleted" IsNestedWizard="true"></AddLivestockFeedWizard>
        </WizardStep>
    </Wizard>
}
